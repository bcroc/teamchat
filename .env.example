# ============================================
# TeamChat Server Configuration
# ============================================
# Copy this file to .env and fill in the values

# ---- Server Configuration ----
PORT=3001
HOST=0.0.0.0
NODE_ENV=development
API_URL=http://localhost:3001

# ---- Database ----
# PostgreSQL connection string
DATABASE_URL="postgresql://teamchat:teamchat_dev_password@localhost:5432/teamchat"

# ---- Redis ----
# Redis URL for caching and pub/sub
REDIS_URL="redis://localhost:6379"
# Optional: Redis password (required in production)
# REDIS_PASSWORD=""

# ---- Security ----
# JWT secret for signing tokens (REQUIRED, minimum 32 characters)
# Generate a secure secret with: openssl rand -base64 32
# IMPORTANT: Never commit real secrets to version control!
JWT_SECRET=

# ---- Rate Limiting ----
# Maximum requests per window
RATE_LIMIT_MAX=100
# Time window in milliseconds (default: 1 minute)
RATE_LIMIT_WINDOW_MS=60000

# ---- File Storage ----
# Directory for uploaded files
UPLOAD_DIR="./uploads"
# Maximum file size in bytes (default: 10MB)
MAX_FILE_SIZE=10485760

# ---- CORS ----
# Allowed origins (comma-separated for multiple origins)
CORS_ORIGIN="http://localhost:5173"

# ---- WebRTC (Optional) ----
# STUN servers (comma-separated)
STUN_URLS="stun:stun.l.google.com:19302,stun:stun1.l.google.com:19302"
# TURN server configuration (for production NAT traversal)
# TURN_URLS=""
# TURN_USERNAME=""
# TURN_CREDENTIAL=""

# ---- Docker Configuration (for docker-compose) ----
# PostgreSQL password (also used in DATABASE_URL)
POSTGRES_PASSWORD=teamchat_dev_password
# Exposed ports (optional, for avoiding conflicts)
SERVER_PORT=3001
POSTGRES_PORT=5432
REDIS_PORT=6379
